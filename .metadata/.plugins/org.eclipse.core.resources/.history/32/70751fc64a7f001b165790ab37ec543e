/**
 * 
 */
package com.Ratioform.pages;


import java.util.List;
import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;


/**
 * @author Sowndarya
 *
 */
public class SearchPage {
	WebDriver driver;

	By searchbox=By.xpath("(//input[@name='searchQuery'])[1]");
	By searchbutton=By.xpath("(//span[@class='search-text'])[1]");
	By searchtext=By.xpath("//div[@class='heading-wrapper']/h1[text()='Ergebnisse für \"wellpapp\"']");
	By searchsuggestion=By.xpath("(//div[@class='suggestion-product']/a)[1]");

	public SearchPage(WebDriver driver) 
	{
		this.driver=driver;
	}


	public Boolean SearchProduct(String Productname) throws InterruptedException 
	{

		Boolean searchboxdisplayed=driver.findElement(searchbox).isDisplayed();
		driver.findElement(searchbox).sendKeys(Productname);
		Thread.sleep(4000);
		  // Javascript executor class with executeScript method
	      JavascriptExecutor j = (JavascriptExecutor) driver;
	      // identify element and set value
	      WebElement element = driver.findElement(searchsuggestion);
	    		  j.executeScript("arguments[0].click();", element);
	    		  Thread.sleep(3000);
	    			System.out.println("Auto Suggest List ::");

		return searchboxdisplayed;
	}
		

	public Boolean SearchBox() 
	{
		Boolean searchboxdisplayed=driver.findElement(searchbox).isDisplayed();
		return searchboxdisplayed;
	} 
	
	public String Suggestion(String Productname) throws InterruptedException 
	{
		driver.findElement(searchbox).sendKeys(Productname);
		
	      JavascriptExecutor j = (JavascriptExecutor) driver;
	      WebElement element = driver.findElement(searchsuggestion);
	    		 // j.executeScript("arguments[0].click();", element);
	      String text = (String) j.executeScript("return arguments[0].value",element);
	    		// String el= element.getAttribute("wellpapp");
	    		// String n=(String) j.executeScript("return document.getElementById('hidden_div').value;");
	    		// System.out.println(n);
	    		  Thread.sleep(3000);
	    			System.out.println("Auto Suggest List ::" +text);
	    		return text;
	}

	public void ClickSearchButton() 
	{
		driver.findElement(searchbutton).click();

	}

	public Boolean verifysearchtext() {

		driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);
		Boolean searchtextdisplayed =driver.findElement(searchtext).isDisplayed();
		return searchtextdisplayed;

	}
}
