/**
 * 
 */
package com.Ratioform.pages;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Properties;

import org.apache.commons.io.FileUtils;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.Test;

import com.relevantcodes.extentreports.ExtentReports;
import com.relevantcodes.extentreports.ExtentTest;
import com.relevantcodes.extentreports.LogStatus;

/**
 * @author 
 *
 */
public class BasePage {
	WebDriver driver=null;
	ExtentReports extent;
	ExtentTest test;

	public void init() throws InterruptedException {
		System.setProperty("webdriver.chrome.driver", "C:\\BrowserDriver\\chromedriver.exe");
		//		 initialize new webdriver
		driver=new ChromeDriver();
		driver.get("https://www.amazon.de/-/en/b?ie=UTF8&node=20056748031&pf_rd_r=NSMQZ35WXT76C8KZ3Y3B&pf_rd_p=0d37ad16-06be-4bc8-9814-0de91a831a0e");
		driver.wait(10);
		
	}
	
	public void extentreport() {
		String fileName = new SimpleDateFormat("yyyyMMddHHmm'.txt'").format(new Date());
		//ExtentHtmlReporter htmlreporter=new ExtentHtmlReporter("C:\\eclipse-workspace\\AutomationReports\\ExtentReports("+fileName+").html");
		extent = new ExtentReports("C:\\eclipse-workspace\\AutomationReports\\ExtentReports("+fileName+").html");
		test=extent.startTest("Navigate to Ratioform Website","");
		test.log(LogStatus.INFO, "Starting Test Case");
		test.log(LogStatus.INFO, "Entering URL");
		
	}
	 public  String getScreenshot(WebDriver driver,String screenshotname) throws IOException {
		  
		  String datename=new SimpleDateFormat("yyyymmddhhmmss").format(new Date());
			File scrFile=((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);
			String destination = System.getProperty("destination" ,"C:\\eclipse-workspace\\AutomationReports\\screenshots\\screenshots.png");
			File finaldestination=new File(destination);
			FileUtils.copyFile(scrFile,finaldestination );
			return destination;
			  
		  }

//	public String getproperty(String url)
//	{
//		File file=new File("");
//		 String getProperty(String propkey)
//		{
//			FileInputStream fileinput=null;
//			try {
//				fileinput =new FileInputStream(file);
//			}catch(FileNotFoundException e) {
//				e.printStackTrace();
//			}
//
//			Properties prop=new Properties();
////load properties file
//			try {
//				prop.load(fileinput);
//			}
//
//			catch(IOException e){
//				e.printStackTrace();
//			}
//			return prop.getProperty(propkey);
//		}
//	}

}